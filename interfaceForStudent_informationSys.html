<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Information System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f4f7f9;
        }
        .container {
            max-width: 1024px;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">

    <div class="container bg-white shadow-xl rounded-2xl overflow-hidden">
        <!-- Header -->
        <header class="bg-blue-900 text-white py-8 px-8 text-center rounded-t-2xl">
            <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight">INTELLIER UNIVERSITY PORTAL</h1>
            <p class="mt-2 text-md sm:text-lg opacity-80">Student Information System</p>
        </header>

        <main class="flex flex-col lg:flex-row p-8 gap-12">
            <!-- Left Side: Input Form and Controls -->
            <div class="lg:w-1/3 space-y-8 p-6 bg-gray-50 rounded-lg shadow-inner">
                <h2 class="text-2xl font-semibold text-gray-800 border-b-2 border-gray-300 pb-2">Student Actions</h2>
                
                <div class="space-y-4">
                    <h3 class="text-xl font-medium text-gray-700">Add/Edit Student</h3>
                    <input type="text" id="nameInput" placeholder="Name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <input type="number" id="ageInput" placeholder="Age" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <input type="text" id="idInput" placeholder="ID" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <input type="text" id="deptInput" placeholder="Department" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <input type="text" id="majorInput" placeholder="Major" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <button id="addUpdateBtn" class="w-full py-2 px-4 bg-blue-600 text-white font-medium rounded-lg shadow-md hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500">Add Student</button>
                </div>
                
                <button id="displayAllBtn" class="w-full py-3 px-4 bg-gray-700 text-white font-semibold rounded-lg shadow-md hover:bg-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500">Display All Students</button>

                <div id="messageBox" class="text-center mt-4 p-3 rounded-lg text-sm font-semibold"></div>
            </div>

            <!-- Right Side: Display Area -->
            <div class="lg:w-2/3 p-6 bg-gray-50 rounded-lg shadow-inner">
                <h2 class="text-2xl font-semibold text-gray-800 border-b-2 border-gray-300 pb-2">Student Records</h2>
                <div id="studentDisplayArea" class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Student information will be displayed here -->
                    <div class="text-gray-500 text-center py-10 md:col-span-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" />
                        </svg>
                        <p class="mt-2">Student records will appear here.</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        let students = [];
        let editingStudentId = null;

        function showMessage(message, type = 'info') {
            const messageBox = document.getElementById('messageBox');
            messageBox.textContent = message;
            messageBox.className = "text-center mt-4 p-3 rounded-lg text-sm font-semibold";
            if (type === 'success') {
                messageBox.classList.add('bg-green-200', 'text-green-800');
            } else if (type === 'error') {
                messageBox.classList.add('bg-red-200', 'text-red-800');
            } else {
                messageBox.classList.add('bg-blue-200', 'text-blue-800');
            }
        }

        function getStudentFromInputs() {
            const name = document.getElementById('nameInput').value;
            const age = parseInt(document.getElementById('ageInput').value);
            const id = document.getElementById('idInput').value;
            const department = document.getElementById('deptInput').value;
            const major = document.getElementById('majorInput').value;

            if (!name || isNaN(age) || !id || !department || !major) {
                showMessage("All fields must be filled out.", "error");
                return null;
            }
            return { name, age, id, department, major };
        }

        function clearInputs() {
            document.getElementById('nameInput').value = '';
            document.getElementById('ageInput').value = '';
            document.getElementById('idInput').value = '';
            document.getElementById('deptInput').value = '';
            document.getElementById('majorInput').value = '';
            document.getElementById('idInput').disabled = false;
            document.getElementById('addUpdateBtn').textContent = 'Add Student';
            editingStudentId = null;
        }

        function fillInputs(student) {
            document.getElementById('nameInput').value = student.name;
            document.getElementById('ageInput').value = student.age;
            document.getElementById('idInput').value = student.id;
            document.getElementById('idInput').disabled = true; // Prevent ID from being changed
            document.getElementById('deptInput').value = student.department;
            document.getElementById('majorInput').value = student.major;
            document.getElementById('addUpdateBtn').textContent = 'Save Changes';
            editingStudentId = student.id;
        }

        function displayStudent(student) {
            const studentDiv = document.createElement('div');
            studentDiv.className = "p-6 bg-white rounded-lg shadow-md border-t-4 border-blue-500 flex flex-col justify-between";
            studentDiv.innerHTML = `
                <div>
                    <h4 class="font-bold text-lg text-blue-700">${student.name}</h4>
                    <p class="text-sm text-gray-600 mt-1"><strong>ID:</strong> ${student.id}</p>
                    <p class="text-sm text-gray-600"><strong>Age:</strong> ${student.age}</p>
                    <p class="text-sm text-gray-600"><strong>Department:</strong> ${student.department}</p>
                    <p class="text-sm text-gray-600"><strong>Major:</strong> ${student.major}</p>
                </div>
                <div class="mt-4 flex space-x-2">
                    <button class="updateBtn flex-1 py-1 px-3 bg-yellow-500 text-white font-medium rounded-lg shadow-md hover:bg-yellow-600 transition-colors focus:outline-none" data-student-id="${student.id}">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mx-auto" viewBox="0 0 20 20" fill="currentColor">
                          <path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z" />
                          <path fill-rule="evenodd" d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z" clip-rule="evenodd" />
                        </svg>
                    </button>
                    <button class="deleteBtn flex-1 py-1 px-3 bg-red-500 text-white font-medium rounded-lg shadow-md hover:bg-red-600 transition-colors focus:outline-none" data-student-id="${student.id}">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mx-auto" viewBox="0 0 20 20" fill="currentColor">
                          <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
                        </svg>
                    </button>
                </div>
            `;
            return studentDiv;
        }

        function displayAllStudents() {
            const displayArea = document.getElementById('studentDisplayArea');
            displayArea.innerHTML = '';
            if (students.length === 0) {
                displayArea.innerHTML = `<div class="text-gray-500 text-center py-10 md:col-span-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" />
                    </svg>
                    <p class="mt-2">No student records to display.</p>
                </div>`;
            } else {
                students.forEach(student => {
                    displayArea.appendChild(displayStudent(student));
                });
            }
        }

        document.getElementById('addUpdateBtn').addEventListener('click', () => {
            const newStudent = getStudentFromInputs();
            if (!newStudent) return;

            if (editingStudentId) {
                const existingStudentIndex = students.findIndex(student => student.id === editingStudentId);
                if (existingStudentIndex !== -1) {
                    students[existingStudentIndex] = newStudent;
                    showMessage(`Student with ID ${editingStudentId} updated successfully.`, "success");
                }
            } else {
                if (students.find(student => student.id === newStudent.id)) {
                    showMessage("Error: A student with this ID already exists.", "error");
                    return;
                }
                students.push(newStudent);
                showMessage(`Student ${newStudent.name} added successfully!`, "success");
            }
            clearInputs();
            displayAllStudents();
        });

        document.getElementById('displayAllBtn').addEventListener('click', () => {
            clearInputs();
            displayAllStudents();
            showMessage("All student records displayed.", "info");
        });

        // Event delegation for dynamically created buttons
        document.getElementById('studentDisplayArea').addEventListener('click', (event) => {
            const button = event.target.closest('button');
            if (!button) return;

            const studentId = button.dataset.studentId;
            if (!studentId) return;

            if (button.classList.contains('deleteBtn')) {
                const initialLength = students.length;
                students = students.filter(student => student.id !== studentId);
                if (students.length < initialLength) {
                    showMessage(`Student with ID ${studentId} has been deleted.`, "success");
                    displayAllStudents();
                }
            } else if (button.classList.contains('updateBtn')) {
                const studentToUpdate = students.find(student => student.id === studentId);
                if (studentToUpdate) {
                    fillInputs(studentToUpdate);
                    showMessage(`Editing student with ID: ${studentId}`, "info");
                }
            }
        });

        // Initial display
        displayAllStudents();
    </script>
</body>
</html>
